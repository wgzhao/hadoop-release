Changes only in Hortonworks github and not in hadoop-2.6.0 and hence not covered by CHANGES.txt.

  INCOMPATIBLE CHANGES

  NEW FEATURES

    HDFS-6581. Support for writing to single replica in RAM.
    Applied HDFS-6581.merge.15.patch to Champlain. This is a consolidated
    patch containing all feature changes and was applied to trunk.
    (Multiple contributors via Arpit Agarwal)

    YARN-2837. Support TimeLine server to recover delegation token when
    restarting. (Zhijie Shen via jianhe)

  IMPROVEMENTS

    HDFS-7153. Add storagePolicy to NN edit log during file creation.
    (Arpit Agarwal).
    Cherry-picked commit ID 9e9e9cf from apache/trunk.

    HDFS-7093. Add config key to restrict setStoragePolicy. (Arpit Agarwal)
    Cherry-picked commit ID b38e52b from apache/trunk.

    HADOOP-9629. Support Windows Azure Storage - Blob as a file system in Hadoop.
    (Dexter Bradshaw, Mostafa Elhemali, Xi Fang, Johannes Klein, David Lao,
    Mike Liddell, Chuan Liu, Lengning Liu, Ivan Mitic, Michael Rys,
    Alexander Stojanovic, Brian Swan, and Min Wei via cnauroth)

    YARN-1979. TestDirectoryCollection fails when the umask is unusual.
    (Vinod Kumar Vavilapalli and Tsuyoshi OZAWA via junping_du)

    YARN-2190. Added CPU and memory limit options to the default container
    executor for Windows containers. (Chuan Liu via jianhe)

  BUG FIXES

    HDFS-27. HDFS CLI with --config set to default config complains log file not
    found error. (cnauroth)

    HADOOP-10839. Add unregisterSource() to MetricsSystem API.
    (Shanyu Zhao via cnauroth)

    HADOOP-10840. Fix OutOfMemoryError caused by metrics system in Azure File
    System. (Shanyu Zhao via cnauroth)

    HADOOP-10689. InputStream is not closed in
    AzureNativeFileSystemStore#retrieve(). (Chen He via cnauroth)

    HADOOP-10690. Lack of synchronization on access to InputStream in
    NativeAzureFileSystem#NativeAzureFsInputStream#close().
    (Chen He via cnauroth)

    HADOOP-10728. Metrics system for Windows Azure Storage Filesystem.
    (Dexter Bradshaw, Mostafa Elhemali, Xi Fang, Johannes Klein, David Lao,
    Mike Liddell, Chuan Liu, Lengning Liu, Ivan Mitic, Michael Rys,
    Alexander Stojanovich, Brian Swan, and Min Wei via cnauroth)

    HADOOP-10840. Fix OutOfMemoryError caused by metrics system in Azure File
    System. (Shanyu Zhao via cnauroth)

    HADOOP-10809. hadoop-azure: page blob support. (Dexter Bradshaw,
    Mostafa Elhemali, Eric Hanson, and Mike Liddell via cnauroth)

    HADOOP-11188. hadoop-azure: automatically expand page blobs when they become
    full. (Eric Hanson via cnauroth)

    HADOOP-11248. Add hadoop configuration to disable Azure Filesystem metrics
    collection. (Shanyu Zhao via cnauroth)

    YARN-2254. TestRMWebServicesAppsModification should run against both 
    CS and FS. (Zhihai Xu via kasha)

    HDFS-7503. Namenode restart after large deletions can cause slow
    processReport. (Arpit Agarwal)

    HDFS-7425. NameNode block deletion logging uses incorrect appender.
    (cnauroth)

    HADOOP-11321. copyToLocal cannot save a file to an SMB share unless the user
    has Full Control permissions. (cnauroth)

    HDFS-7514. TestTextCommand fails on Windows. (Arpit Agarwal)

    YARN-2917. Fixed potential deadlock when system.exit is called in
    AsyncDispatcher. (Rohith Sharmaks via jianhe)

    YARN-570. Time strings are formated in different timezone. (Akira Ajisaka
    and Peng Zhang via kasha)

    YARN-2964. RM prematurely cancels tokens for jobs that submit jobs (oozie)
    (Jian He via jlowe)

    HDFS-7443. BUG-29367. Datanode upgrade to BLOCKID_BASED_LAYOUT fails if
    duplicate block files are present in the same volume. (cmccabe)

    HDFS-7560. ACLs removed by removeDefaultAcl() will be back after NameNode
    restart/failover. (Vinayakumar B via cnauroth)

    BUG-26128/YARN-2571. RM to support YARN registry. Contributed by Steve
    Loughran.

    BUG-26133/YARN-2683. Service registry config options: document and move to
    core-default. Contributed by Steve Loughran.

    HDFS-7489. Incorrect locking in FsVolumeList#checkDirs can hang datanodes
    (Noah Lorang via Colin P. McCabe)

    YARN-3103. AMRMClientImpl does not update AMRM token properly. (Jason Lowe
    via jianhe)

    MAPREDUCE-6230. Fixed RMContainerAllocator to update the new AMRMToken
    service name properly. Contributed by Jason Lowe

    HADOOP-11509. change parsing sequence in GenericOptionsParser to parse
    -D parameters before -files. (xgong)

    HADOOP-11523. StorageException complaining " no lease ID" when updating
    FolderLastModifiedTime in WASB. (Duo Xu via cnauroth)

    BUG-31164. HDFS-7733. NFS: readdir/readdirplus return null directory
    attribute on failure.

    YARN-2246. Made the proxy tracking URL always be
    http(s)://proxy addr:port/proxy/<appId> to avoid duplicate sections. (Devaraj
    K via zjshen)

    HDFS-7714. Simultaneous restart of HA NameNodes and DataNode can cause
    DataNode to register successfully with only one NameNode.(vinayakumarb)

    HDFS-7611. deleteSnapshot and delete of a file can leave orphaned blocks
    in the blocksMap on NameNode restart. (jing9)

    YARN-3207. Secondary filter matches entites which do not have the key being
    filtered for. (Zhijie Shen via xgong)

    HDFS-7009. Active NN and standby NN have different live nodes.
    (Ming Ma via cnauroth)

    HADOOP-11629. WASB filesystem should not start BandwidthGaugeUpdater if
    fs.azure.skip.metrics set to true. (Shanyu Zhao via cnauroth)

    HDFS-7831. Fix the starting index and end condition of the loop in
    FileDiffList.findEarlierSnapshotBlocks(). (Konstantin Shvachko via jing9)

    YARN-3239. WebAppProxy does not support a final tracking url which has
    query fragments and params (Jian He via jlowe)

    YARN-42. Yarn.nodemanager.remote-app-log-dir could not be configured to fully
    qualified path. (xgong)

    BUG-32378. NN went down during RB test due to storage version mismatch.
    (jing9)

    HDFS-7855. Datanode should not trust the generation stamp provided by
    client. (Tsz Wo Nicholas Sze)

    YARN-3227. Timeline renew delegation token fails when RM user's TGT is expired
    (Zhijie Shen via xgong)
