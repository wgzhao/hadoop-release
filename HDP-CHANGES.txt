Changes only in Hortonworks github and not in hadoop-2.7.1 and hence not covered by CHANGES.txt.

  INCOMPATIBLE CHANGES

  NEW FEATURES

    HDFS-8008. Support client-side back off when the datanodes are congested. (wheat9)

    HDFS-6581. Support for writing to single replica in RAM. Applied
    HDFS-6581.merge.15.patch to Champlain. This is a consolidated patch
    containing all feature changes and was applied to trunk. (Multiple
    contributors via Arpit Agarwal)

    HDFS-8009. Signal congestion on the DataNode. (wheat9)

    BUG-26128/YARN-2571 RM to support YARN registry

    YARN-3345. Add non-exclusive node label API. (Wangda Tan via jianhe)

    YARN-3365. Enhanced NodeManager to support using the 'tc' tool via
    container-executor for outbound network traffic control. (Sidharta Seethana
    via vinodkv)

    YARN-1376. NM need to notify the log aggregation status to RM through 
    heartbeat. (Xuan Gong via junping_du)

    YARN-3348. Add a 'yarn top' tool to help understand cluster usage. (Varun
    Vasudev via jianhe)

    YARN-3347. Improve YARN log command to get AMContainer logs as well as 
    running containers logs. (Xuan Gong via junping_du)

    YARN-3443. Create a 'ResourceHandler' subsystem to ease addition of support 
    for new resource types on the NM. (Sidharta Seethana via junping_du)

    YARN-3361. CapacityScheduler side changes to support non-exclusive node
    labels. (Wangda Tan via jianhe)

    YARN-3318. Create Initial OrderingPolicy Framework and FifoOrderingPolicy.
    (Craig Welch via wangda)

    YARN-3326. Support RESTful API for getLabelsToNodes. (Naganarasimha G R
    via ozawa)

    YARN-3354. Add node label expression in ContainerTokenIdentifier to support
    RM recovery. (Wangda Tan via jianhe)

    YARN-1402. Update related Web UI and CLI with exposing client API to check
    log aggregation status. (Xuan Gong via junping_du)

    YARN-3463. Integrate OrderingPolicy Framework with CapacityScheduler.
    (Craig Welch via wangda)

    YARN-3410. YARN admin should be able to remove individual application 
    records from RMStateStore. (Rohith Sharmaks via wangda)

    YARN-3225. New parameter of CLI for decommissioning node gracefully in 
    RMAdmin CLI. (Devaraj K via junping_du)

    YARN-3366. Enhanced NodeManager to support classifying/shaping outgoing
    network bandwidth traffic originating from YARN containers (Sidharta Seethana
    via vinodkv)

    YARN-3319. Implement a FairOrderingPolicy. (Craig Welch via wangda)

    YARN-2498. Respect labels in preemption policy of capacity scheduler for
    inter-queue preemption. (Wangda Tan via jianhe)

    YARN-2619. Added NodeManager support for disk io isolation through cgroups.
    (Varun Vasudev and Wei Yan via vinodkv)

    YARN-3448. Added a rolling time-to-live LevelDB timeline store implementation.
    (Jonathan Eagles via zjshen)

    YARN-3541. Add version info on timeline service / generic history web UI
    and REST API. (Zhijie Shen via xgong)

    YARN-3505. Node's Log Aggregation Report with SUCCEED should not cached in 
    RMApps. (Xuan Gong via junping_du)  

    HDFS-8155. Support OAuth2 in WebHDFS. (jghoman)

    HDFS-9184. Logging HDFS operation's caller context into audit logs.
    (Mingliang Liu via jitendra)

    BUG-46647. Enable caller context feature by default. (Mingliang liu)

    HDFS-8656. Preserve compatibility of ClientProtocol#rollingUpgrade after finalization.

    HDFS-9426. Rollingupgrade finalization is not backward compatible.

    HDFS-9239. DataNode Lifeline Protocol: an alternative protocol for
    reporting DataNode liveness. Contributed by Chris Nauroth.

    BUG-53460. HADOOP-12847. hadoop daemonlog should support https and SPNEGO for
    Kerberized cluster (Wei-Chiu Chuang)

ATS V1.5:

    YARN-4233. YARN Timeline Service plugin: ATS v1.5 (Multiple contributors)

    Port YARN-3942(ATS V1.5) patch into 2.3-maint, which include the
    previous YARN-3360 Commits to fix the dependency.

  IMPROVEMENTS

    HADOOP-10597. RPC Server signals backoff to clients when all request
    queues are full. (Ming Ma via Arpit Agarwal)

    YARN-1880. Cleanup TestApplicationClientProtocolOnHA
    (ozawa via harsh)

    YARN-3243. CapacityScheduler should pass headroom from parent to children
    to make sure ParentQueue obey its capacity limits. (Wangda Tan via jianhe)

    YARN-3356. Capacity Scheduler FiCaSchedulerApp should use ResourceUsage to
    track used-resources-by-label. (Wangda Tan via jianhe)

    YARN-2868. FairScheduler: Metric for latency to allocate first container 
    for an application. (Ray Chiang via kasha)

    YARN-3397. yarn rmadmin should skip -failover. (J.Andreina via kasha)

    YARN-2495. Allow admin specify labels from each NM (Distributed 
    configuration for node label). (Naganarasimha G R via wangda)

    YARN-3248. Display count of nodes blacklisted by apps in the web UI.
    (Varun Vasudev via xgong)

    YARN-2901. Add errors and warning metrics page to RM, NM web UI. 
    (Varun Vasudev via wangda)

    YARN-3294. Allow dumping of Capacity Scheduler debug logs via
    web UI for a fixed time period. (Varun Vasudev via xgong)

    YARN-3293. Track and display capacity scheduler health metrics
    in web UI. (Varun Vasudev via xgong)

    YARN-3394. Enrich WebApplication proxy documentation. (Naganarasimha G R
    via jianhe)

    YARN-3404. Display queue name on application page. (Ryu Kobayashi via jianhe)

    YARN-2696. Queue sorting in CapacityScheduler should consider node label.
    (Wangda Tan via jianhe)

    YARN-3451. Display attempt start time and elapsed time on the web UI.
    (Rohith Sharmaks via jianhe)

    YARN-3494. Expose AM resource limit and usage in CS QueueMetrics. (Rohith
    Sharmaks via jianhe)

    YARN-3503. Expose disk utilization percentage and bad local and log dir 
    counts in NM metrics. (Varun Vasudev via jianhe)

    YARN-3511. Add errors and warnings page to ATS. (Varun Vasudev via xgong)

    YARN-3406. Display count of running containers in the RM's Web UI.
    (Ryu Kobayashi via ozawa)

    YARN-3593. Add label-type and Improve "DEFAULT_PARTITION" in Node Labels Page. 
    (Naganarasimha G R via wangda)

    YARN-3362. Add node label usage in RM CapacityScheduler web UI.
    (Naganarasimha G R via wangda)

    YARN-3565. NodeHeartbeatRequest/RegisterNodeManagerRequest should use 
    NodeLabel object instead of String. (Naganarasimha G R via wangda)

    YARN-3583. Support of NodeLabel object instead of plain String 
    in YarnClient side. (Sunil G via wangda)

    YARN-3581. Deprecate -directlyAccessNodeLabelStore in RMAdminCLI. 
    (Naganarasimha G R via wangda)

    YARN-3700. Made generic history service load a number of latest applications
    according to the parameter or the configuration. (Xuan Gong via zjshen)

    BUG-42254. HDFS-8880. NameNode metrics logging. (Arpit Agarwal)

    BUG-43161. HDFS-4185. Add a metric for number of active leases
    (Rakesh R via raviprak)

    HDFS-8983. NameNode support for protected directories. (Arpit Agarwal)

    BUG-43225. HDFS-8435. Support CreateFlag in WebHDFS.
    (Jakob Homan via cdouglas)

    BUG-43612. computeReplicationWork does not record all failure paths.
    (Arpit Agarwal)

    HADOOP-11960. Enable Azure-Storage Client Side logging.
    (Dushyanth via cnauroth)

    HADOOP-10597. RPC Server signals backoff to clients when all request
    queues are full. (Ming Ma via Arpit Agarwal)

    HADOOP-12325. RPC Metrics : Add the ability track and log slow RPCs.
    (Anu Engineer via xyao)

    HADOOP-12358. Add -safely flag to rm to prompt when deleting many files.
    (xyao via wang) 

    BUG-45012/HADOOP-12787. KMS SPNEGO sequence does not work with WEBHDFS.
    (xyao)

    HDFS-8432. Introduce a minimum compatible layout version to allow downgrade
    in more rolling upgrade use cases. (cnauroth)

    HDFS-4396. Add START_MSG/SHUTDOWN_MSG for ZKFC
    (Liang Xie via harsh)

    HDFS-6860. BlockStateChange logs are too noisy. (Chang Li and xyao via xyao)

    HDFS-8549. Abort the balancer if an upgrade is in progress. (wang)

    HDFS-8818. Changes the global moveExecutor to per datanode executors and
    changes MAX_SIZE_TO_MOVE to be configurable.  (szetszwo)

    HDFS-8824. Do not use small blocks for balancing the cluster.  (szetszwo)

    HDFS-8883. NameNode Metrics : Add FSNameSystem lock Queue Length.
    (Anu Engineer via xyao)

    HDFS-8278. When computing max-size-to-move in Balancer, count only the
    storage with remaining >= default block size.  (szetszwo)

    HDFS-8826. In Balancer, add an option to specify the source node list
    so that balancer only selects blocks to move from those nodes.  (szetszwo)

    HDFS-8911. NameNode Metric : Add Editlog counters as a JMX metric.
    (Anu Engineer via Arpit Agarwal)

    HDFS-7923. The DataNodes should rate-limit their full block reports by
    asking the NN on heartbeat messages (cmccabe)

    HDFS-8983. NameNode support for protected directories. (Arpit Agarwal)

    HDFS-8046. Allow better control of getContentSummary (kihwal)

    HDFS-8797. WebHdfsFileSystem creates too many connections for pread. (jing9)

    HDFS-8180. AbstractFileSystem Implementation for WebHdfs. (snayak via jghoman)

    YARN-4082. Container shouldn't be killed when node's label updated. Contributed by Wangda Tan.

    Backport, YARN-3197. Confusing log generated by CapacityScheduler (wangda)

    BUG-44387 Disable container stats publish to ATS by default

    YARN-3978. Configurably turn off the saving of container info in Generic AHS (Eric Payne via jeagles)

    YARN-4149. yarn logs -am should provide an option to fetch all the log
    files. Contributed by Varun Vasudev

    YARN-2513 Host framework UIs in YARN for use with the ATS
    Note: Patch is in progress

    YARN-2513 Host framework UIs in YARN for use with the ATS
    Note: Patch is in progress
    (Committing this patch to keep the 2.3-maint branch consistent with
    2.2-maint. This commit uses the YARN-2513.v3.patch from Apache JIRA. The
    original issues is not yet closed, therefore future backporting/rebasing
    may be necessary.)

    YARN-4101. RM should print alert messages if Zookeeper and Resourcemanager gets
    connection issue. Contributed by Xuan Gong

    YARN-3360. Add JMX metrics to TimelineDataManager (Jason Lowe via jeagles)

    Merge pull request #4 from hortonworks/hadoop_vijayk_BUG-39629

    BUG-40753. Add auth-filter in NM by default

    YARN-3579. CommonNodeLabelsManager should support NodeLabel instead of string label name when 
    getting node-to-label/label-to-label mappings. (Sunil G via wangda)

    YARN-3357. Move TestFifoScheduler to FIFO package. Contributed by Rohith
    Sharmaks.

    BUG-34399 Enable yarn recovery by default in Windows Onprem

    RMP-3532. HDFS-7858. Improve HA Namenode Failover detection on the client.
    (Arun Suresh)

    YARN-3727. For better error recovery, check if the directory exists before
    using it for localization. Contributed by Zhihai Xu

    HDFS-7928. Scanning blocks from disk during rolling upgrade startup takes a
    lot of time if disks are busy. Contributed by Rushabh Shah.    

    BUG-45423. HDFS-9112. Improve error message for Haadmin when multiple name
    service IDs are configured. Contributed by Anu Engineer.

    HDFS-8965. Harden edit log reading code against out of memory errors
    (cmccabe)

    HADOOP-12350. WASB Logging: Improve WASB Logging around deletes, reads and
    writes. Contributed by Dushyanth.

    HDFS-4015. Safemode should count and report orphaned blocks. (Contributed
    by Anu Engineer)

    YARN-3480. Remove attempts that are beyond max-attempt limit from state
    store. Contributed by Jun Gong

    YARN-4584. RM startup failure when AM attempts greater than max-attempts. 
    (Bibin A Chundatt via rohithsharmaks)

    YARN-4497. RM might fail to restart when recovering apps whose attempts
    are missing. (Jun Gong via rohithsharmaks)

    BUG-52450. HDFS-9790. HDFS Balancer should exit with a proper message if
    upgrade is not finalized (Xiaobing Zhou via Arpit Agarwal)

    HDFS-9434. Recommission a datanode with 500k blocks may pause NN for 30
    seconds for printing info log messags.  (szetszwo)

    HDFS-9839. Reduce verbosity of processReport logging. (Arpit Agarwal)

    HDFS-9906. Remove spammy log spew when a datanode is restarted. (Contributed by Brahma Reddy Battula)

    HDFS-9726. Refactor IBR code to a new class.  (szetszwo)

    HDFS-9710. DN can be configured to send block receipt IBRs in batches.
    (szetszwo)

    BUG-54690. HADOOP-12161. Add getStoragePolicy API to the FileSystem interface
    (Brahma Reddy Battula via Arpit Agarwal)

    BUG-54691. HDFS-8815. DFS getStoragePolicy implementation using single RPC call
    (Surendra Singh Lilhore via Vinayakumar B)

    BUG-51798. HDFS-9534. Add CLI command to clear storage policy from a path.
    (Xiaobing Zhou via Arpit Agarwal)

    HADOOP-12825. Log slow name resolutions.
    (Sidharta Seethana via stevel)

    HADOOP-13039. Add documentation for configuration property
    ipc.maximum.data.length (Contributed by Mingliang Liu)

    BUG-53460. HADOOP-12984. Add GenericTestUtils.getTestDir method
    and use it for temporary directory in tests (Steve Loughran)

    BUG-57081. HDFS-10341. Add a metric to expose the timeout number of pending
    replication blocks (Akira AJISAKA)

  OPTIMIZATIONS

    HDFS-8867. Enable optimized block reports. (Daryn Sharp via jing9)

    HDFS-8856. Make LeaseManager#countPath O(1). (Arpit Agarwal)

    HADOOP-12317. Applications fail on NM restart on some linux distro
    because NM container recovery declares AM container as LOST (adhoot via rkanter)

    HADOOP-7713. dfs -count -q should label output column (Jonathan Allen
    via aw)

    HADOOP-11772. RPC Invoker relies on static ClientCache which has
    synchronized(this) blocks. (wheat9)

  BUG FIXES

    YARN-4623. TestSystemMetricsPublisher#testPublishAppAttemptMetricsForUnmanagedAM
    fails with NPE on branch-2.7. (Naganarasimha G R via junping_du)

    HADOOP-12617. SPNEGO authentication request to non-default realm gets default realm name 
    inserted in target server principal. (mfoley)

    BUG-5700. NameNode should shut down if out of memory error occurs. (cnauroth)

    HDFS-27. HDFS CLI with --config set to default config complains log file not
    found error. (cnauroth)

    BUG-34216. Support downgrade before finalize in Dal. (cnauroth)

    HDFS-7890. Improve information on Top users for metrics in RollingWindowsManager and lower log level. (J.Andreina via Vinayakumar B)

    BUG-39584. Fix cygwin variable in shell scripts which breaks RollingUpgrade.
    (Li Lu via jing9)

    BUG-40325. Fixed a hang problem in DistributedShell. (Varun Vasudev)

    BUG-39672. Fixed RM and JHS to always add AuthenticationFilterInitializer.
    (Jian He)

    BUG-25680. Include custom version of Jetty 6 with bug fixes. Internal only patch.

    HDFS-8229. LAZY_PERSIST file gets deleted after NameNode restart. (Contributed by Surendra Singh Lilhore)

    HDFS-8276. LazyPersistFileScrubber should be disabled if scrubber interval configured zero. (Contributed by Surendra Singh Lilhore)

    HDFS-8152. Refactoring of lazy persist storage cases. (Arpit Agarwal)

    HDFS-8144. Split TestLazyPersistFiles into multiple tests. (Arpit Agarwal)

    HDFS-8219. setStoragePolicy with folder behavior is different after cluster restart. (surendra singh lilhore via Xiaoyu Yao)

    BUG-35876. nfs server does not respect --config paramater. (HADOOP-11898)

    BUG-35227 - change service argument for JobHistoryServer from custom jobhistoryserver to upstream historyserver

    HDFS-8232. Missing datanode counters when using Metrics2 sink interface. Contributed by Anu Engineer.

    BUG-5700: Adding a similar kill script for SecondaryNameNode.

    HDFS-8205. CommandFormat#parse() should not parse option as value of option. (Contributed by Peter Shi and Xiaoyu Yao)

    Remove change marker from CHANGES.txt

    HDFS-8211. DataNode UUID is always null in the JMX counter. (Contributed by Anu Engineer)

    HDFS-7990. IBR delete ack should not be delayed. Contributed by Daryn Sharp. 

    HDFS-7645. Fix CHANGES.txt

    HDFS-7645. Rolling upgrade is restoring blocks from trash multiple times (Contributed by Vinayakumar B and Keisuke Ogiwara)

    HDFS-8055. NullPointerException when topology script is missing. Contributed by Anu Engineer.

    HDFS-7933. fsck should also report decommissioning replicas. Contributed by Xiaoyu Yao.

    HDFS-6666. Abort NameNode and DataNode startup if security is enabled but block access token is not enabled. Contributed by Vijay Bhat.

    HADOOP-11859. PseudoAuthenticationHandler fails with httpcomponents v4.4. Contributed by Eugene Koifman. 

    HDFS-7701. Support reporting per storage type quota and usage with hadoop/hdfs shell. (Contributed by Peter Shi)
   
    HADOOP-7713. dfs -count -q should label output column (Jonathan Allen via aw)
   
    BUG-34858 RM does not start up on Windows
   
    BUG-33625 RM http and https use conflicting port.
   
    BUG-34526 Dal MSI failed to install when HA is enabled
   
    HDFS-8008. Support client-side back off when the datanodes are congested. Contributed by Haohui Mai.
    
    HDFS-8009. Signal congestion on the DataNode. Contributed by Haohui Mai.
   
    Remove old reference to Azure SDK 0.6.0.

    YARN-3305. Normalize AM resource request on app submission. (Rohith Sharmaks
    via jianhe)

    YARN-3269. Yarn.nodemanager.remote-app-log-dir could not be configured to 
    fully qualified path. (Xuan Gong via junping_du)

    YARN-3383. AdminService should use "warn" instead of "info" to log exception 
    when operation fails. (Li Lu via wangda)

    YARN-3425. NPE from RMNodeLabelsManager.serviceStop when 
    NodeLabelsManager.serviceInit failed. (Bibin A Chundatt via wangda)

    YARN-3435. AM container to be allocated Appattempt AM container shown as null.
    (Bibin A Chundatt via xgong)

    YARN-2666. TestFairScheduler.testContinuousScheduling fails Intermittently.
    (Zhihai Xu via ozawa)

    YARN-3110. Few issues in ApplicationHistory web ui. (Naganarasimha G R via xgong)

    YARN-3459. Fix failiure of TestLog4jWarningErrorMetricsAppender.
    (Varun Vasudev via wangda)

    YARN-3266. RMContext#inactiveNodes should have NodeId as map key.
    (Chengbing Liu via jianhe)

    YARN-3136. Fixed a synchronization problem of
    AbstractYarnScheduler#getTransferredContainers. (Sunil G via jianhe)

    YARN-3387. Previous AM's container completed status couldn't pass to current
    AM if AM and RM restarted during the same time. (sandflee via jianhe)

    YARN-3530. ATS throws exception on trying to filter results without otherinfo.
    (zhijie shen via xgong)

    YARN-2740. Fix NodeLabelsManager to properly handle node label modifications 
    when distributed node label configuration enabled. (Naganarasimha G R via wangda)

    YARN-3517. RM web ui for dumping scheduler logs should be for admins only
    (Varun Vasudev via tgraves)

    YARN-3343. Increased TestCapacitySchedulerNodeLabelUpdate#testNodeUpdate
    timeout. (Rohith Sharmaks via jianhe)

    YARN-2821. Fixed a problem that DistributedShell AM may hang if restarted.
    (Varun Vasudev via jianhe)

    YARN-3654. ContainerLogsPage web UI should not have meta-refresh. (Xuan Gong
    via jianhe)

    YARN-3552. RM Web UI shows -1 running containers for completed apps
    (Rohith via jlowe)

    YARN-3580. [JDK8] TestClientRMService.testGetLabelsToNodes fails. (Robert Kanter
    via junping_du)

    YARN-3707. RM Web UI queue filter doesn't work. (Wangda Tan via jianhe)

    YARN-3632. Ordering policy should be allowed to reorder an application when
    demand changes. (Craig Welch via jianhe)

    YARN-2821. Fixed a problem that DistributedShell AM may hang if restarted.
    (Varun Vasudev via jianhe)

    YARN-3740. Fixed the typo in the configuration name:
    APPLICATION_HISTORY_PREFIX_MAX_APPS. (Xuan Gong via zjshen)

    YARN-2019/EAR-1682. Retrospect on decision of making RM crashed if any
    exception throw in ZKRMStateStore.

    HDFS-8722. Optimize datanode writes for small writes and flushes.
    (Contributed by Kihwal Lee)

    BUG-43165. HDFS-8863. The remaining space check in BlockPlacementPolicyDefault is
    flawed. (Kihwal Lee via Yi Liu)

    BUG-43657. HDFS-8995. Flaw in registration bookeeping can make DN die on
    reconnect. (Kihwal Lee via yliu)

    BUG-43802. HDFS-9009. Send metrics logs to NullAppender by default.
    (Arpit Agarwal)
 
    YARN-4087. Followup fixes after YARN-2019 regarding RM behavior when
    state-store error occurs. (Jian He via xgong)

    HDFS-8767. RawLocalFileSystem.listStatus() returns null for UNIX pipefile.

    HADOOP-12304. Applications using FileContext fail with the default file
    system configured to be wasb/s3/etc. (cnauroth)

    HADOOP-11802: DomainSocketWatcher thread terminates sometimes after there
    is an I/O error during requestShortCircuitShm (cmccabe)

    HADOOP-12052 IPC client downgrades all exception types to IOE, breaks
    callers trying to use them. (Brahma Reddy Battula via stevel)

    HADOOP-12073. Azure FileSystem PageBlobInputStream does not return -1 on
    EOF. (Ivan Mitic via cnauroth)

    HADOOP-12095. org.apache.hadoop.fs.shell.TestCount fails.
    (Brahma Reddy Battula via aajisaka)

    HADOOP-8151. Error handling in snappy decompressor throws invalid
    exceptions. (Matt Foley via harsh)

    HDFS-8384. Allow NN to startup if there are files having a lease but are not
    under construction. (jing9)

    HDFS-8309. Skip unit test using DataNodeTestUtils#injectDataDirFailure() on Windows.
    (xyao)

    HDFS-7609. Avoid retry cache collision when Standby NameNode loading edits.
    (Ming Ma via jing9)

    HDFS-8431. hdfs crypto class not found in Windows.
    (Anu Engineer via cnauroth)

    HDFS-8539. Hdfs doesnt have class 'debug' in windows.
    (Anu Engineer via cnauroth)

    HDFS-8593. Calculation of effective layout version mishandles comparison to
    current layout version in storage. (cnauroth)

    HDFS-8310. Fix TestCLI.testAll "help: help for find" on Windows.
    (Kiran Kumar M R via Xiaoyu Yao)

    HDFS-7608: hdfs dfsclient newConnectedPeer has no
    write timeout (Xiaoyu Yao via Colin P. McCabe)

    HDFS-6945. BlockManager should remove a block from excessReplicateMap and
    decrement ExcessBlocks metric when the block is removed. (aajisaka)

    HDFS-8879. Quota by storage type usage incorrectly initialized upon namenode
    restart. (xyao)

    HDFS-8932. NPE thrown in NameNode when try to get TotalSyncCount metric
    before editLogStream initialization. (Surendra Singh Lilhore via xyao)

    HDFS-8311. DataStreamer.transfer() should timeout the socket InputStream.
    (Esteban Gutierrez via Yongjun Zhang)

    HDFS-8969. Clean up findbugs warnings for HDFS-8823 and HDFS-8932.
    Contributed by Anu Engineer.

    HDFS-8850. VolumeScanner thread exits with exception if there is no block
    pool to be scanned but there are suspicious blocks. (Colin Patrick McCabe
    via yliu)

    HDFS-8542. WebHDFS getHomeDirectory behavior does not match specification.
    (Kanaka Kumar Avvaru via jghoman)

    HDFS-8885. ByteRangeInputStream used in webhdfs does not override
    available(). (Shradha Revankar via aajisaka)

    HDFS-8939. Test(S)WebHdfsFileContextMainOperations failing on branch-2.
    (Chris Nauroth via jghoman) 

    YARN-3885. ProportionalCapacityPreemptionPolicy doesn't preempt if queue is more than 2 level. (Ajith S via wangda)

    YARN-3971. Skip RMNodeLabelsManager#checkRemoveFromClusterNodeLabelsOfQueue on nodelabel recovery. (Bibin A Chundatt via wangda)

    YARN-3932. SchedulerApplicationAttempt#getResourceUsageReport and UserInfo should based on total-used-resources. (Bibin A Chundatt via wangda)

    YARN-3894. RM startup should fail for wrong CS xml NodeLabel capacity configuration. (Bibin A Chundatt via wangda)

    BUG-44684 Make rollingleveldb timelinestore the default for YARN

    YARN-3896. RMNode transitioned from RUNNING to REBOOTED because its response id 
    has not been reset synchronously. (Jun Gong via rohithsharmaks)

    YARN-4092. Fixed UI redirection to print useful messages when both RMs are in standby mode. Contributed by Xuan Gong

    BUG-28508 YARN dal windows unit test failures

    YARN-3413. Changed Nodelabel attributes (like exclusivity) to be settable only via addToClusterNodeLabels 
    but not changeable at runtime. (Wangda Tan via vinodkv)

    BUG-45264. HADOOP-12437. Allow SecurityUtil to lookup alternate hostnames.
    (Arpit Agarwal)

    BUG-45953/HADOOP-12463. Fix TestShell.testGetSignalKillCommand failure on windows.
    (Steve Loughran/Wangda Tan)

    BUG-46171. HDFS-9178. Slow datanode I/O can cause a wrong node to
    be marked bad. (Kihwal Lee)

    BUG-45762. HDFS-4366. Block Replication Policy Implementation May
    Skip Higher-Priority Blocks for Lower-Priority Blocks. (Derek Dagit
    via Kihwal Lee)

    BUG-46757. HDFS-9305. Delayed heartbeat processing causes storm of subsequent
    heartbeats. (Arpit Agarwal)

    BUG-43821/YARN-4313. Race condition in MiniMRYarnCluster when getting
    history server address. (Jian He via Xuan Gong)

    BUG-46754. HDFS-9106. Transfer failure during pipeline recovery causes
    permanent write failures. (Kihwal Lee)

    BUG-47096. HDFS-9343. Empty caller context considered invalid.
    (Mingliang Liu via Arpit Agarwal)

    HADOOP-12186. ActiveStandbyElector shouldn't call monitorLockNodeAsync
    multiple times (zhihai xu via vinayakumarb)

    BUG-47201. Fix Debian build break in DNS.java (Arpit Agarwal)

    BUG-47467. HDFS-8785. TestDistributedFileSystem is failing in trunk.
    (Xiaoyu Yao)

    BUG-47094. HDFS-4937. ReplicationMonitor can infinite-loop in
    BlockPlacementPolicyDefault#chooseRandom. (kihwal)

    BUG-26978. HDFS-6481. DatanodeManager#getDatanodeStorageInfos() should
    check the length of storageIDs. (szetszwo via Arpit Agarwal)

    MAPREDUCE-6302. (BUG-47640) Backport preempt reducers after a configurable 
    timeout irrespective of headroom. (Karthik Kambatla)

    UG-46795. YARN-3467. Expose allocatedMB, allocatedVCores, and runningContainers
    metrics on running Applications in RM Web UI. (Anubhav Dhoot via kasha)
 
    BUG-46797. YARN-4285. Display resource usage as percentage of queue and cluster
    in the RM UI (Varun Vasudev via wangda)

    BUG-46839. HDFS-7725. Incorrect "nodes in service" metrics caused all
    writes to fail. (Ming Ma via wang)

    BUG-46838. HDFS-8950. NameNode refresh doesn't remove DataNodes that are
    no longer in the allowed list. (Daniel Templeton via cmccabe)

    BUG-47823. HADOOP-12049. Control http authentication cookie persistence via
    configuration. (hzlu via benoy)

    BUG-48014. HDFS-8829. Make SO_RCVBUF and SO_SNDBUF size configurable for
    DataTransferProtocol sockets and allow configuring auto-tuning.
    (He Tianye via cmccabe)

    BUG-47731. HDFS-8099. Change "DFSInputStream has been closed already"
    message to debug log level. (Charles Lamb via Colin P. McCabe)

    BUG-48071. YARN-4140. RM container allocation delayed incase of app 
    submitted to Nodelabel partition. (Bibin A Chundatt via wangda)

    YARN-3751. Fixed AppInfo to check if used resources are null. (Sunil G via
    Zhijie Shen)

    BUG-48344. YARN-3849 (Too much of preemption activity causing continuos 
    killing of containers across queues) to 2.3-maint. (Sunil G via wangda)
    
    BUG-48340. YARN-4287 (Rack locality improvement) to 2.3-maint. 
    (Nathan Robert via wangda)

    HBASE-268. FileNotFoundException to be thrown in Open API in WASB when file
    is deleted from different process. (Dushyanth Chickabasapa via cnauroth)

    YARN-3600. AM container link is broken (on a killed application, at least)
    (Naganarasimha G R via tgraves)

    BUG-48017. YARN-4349 YARN_APPLICATION call to ATS does not have 
    YARN_APPLICATION_CALLER_CONTEXT. (wangda via Jian He)

    BUG-48221. HADOOP-12577. Bump up commons-collections version to 3.2.2 to
    address a security flaw. (Wei-Chiu Chuang via vinodkv)

    BUG-47045. HDFS-7390. Provide JMX metrics per storage type. (benoy)

    BUG-47045. HDFS-7483. Display information per tier on the Namenode UI.
    (benoy and wheat9 via wheat9)

    BUG-49006. HDFS-8209. Support different number of datanode directories
    in MiniDFSCluster. (Surendra Singh Lilhore via Vinayakumar B)

    BUG-49324. HDFS-9397. Fix typo for readChecksum() LOG.warn in
    BlockSender.java. (Enrique Flores via Arpit Agarwal)

    BUG-49337. Support node label store in non-appendable file system.
    (Wangda Tan via jianhe)

    BUG-47469. [2.3] Fix TestBalancer#testBalancerWithPinnedBlocks failure on
    2.3-maint. (xyao)

    HDFS-8809. HDFS fsck reports under construction blocks as CORRUPT.
    Contributed by Jing Zhao.

    HDFS-8930. Block report lease may leak if the 2nd full block report comes
    when NN is still in safemode (Colin P. McCabe via Jing Zhao)

    HDFS-8778. TestBlockReportRateLimiting#testLeaseExpiration can deadlock.
    (Contributed by Arpit Agarwal)

    HDFS-8969. Clean up findbugs warnings for HDFS-8823 and HDFS-8932.
    (Contributed by Anu Engineer).

    HDFS-9107. Prevent NNs unrecoverable death spiral after full GC (Daryn
    Sharp via Colin P. McCabe)

    HDFS-9128. TestWebHdfsFileContextMainOperations and
    TestSWebHdfsFileContextMainOperations fail due to invalid HDFS path on
    Windows.

    HADOOP-12438. TestLocalFileSystem tests can fail on Windows after HDFS-8767
    fix for handling pipe.

    HDFS-8846. Add a unit test for INotify functionality across a layout
    version upgrade (Zhe Zhang via Colin P. McCabe)

    HADOOP-12441. Fixed kill-command behavior to work correctly across OSes by
    using bash shell built-in. Contributed by Wangda Tan.

    HDFS-9175. Change scope of 'AccessTokenProvider.getAccessToken()' and
    'CredentialBasedAccessTokenProvider.getCredential()' abstract methods to
    public. Contributed by Santhosh Nayak.

    HADOOP-12324. Better exception reporting in SaslPlainServer.   (Mike Yoder
    via stevel)

    HADOOP-12407. Test failing: hadoop.ipc.TestSaslRPC. (stevel)

    HDFS-9082. Change the log level in WebHdfsFileSystem.initialize() from INFO
    to DEBUG. Contributed by Santhosh Nayak.

    HDFS-8554. TestDatanodeLayoutUpgrade fails on Windows. Contributed by Chris
    Nauroth.

    HADOOP-12413. AccessControlList should avoid calling getGroupNames in
    isUserInList with empty groups. Contributed by Zhihai Xu.

    HADOOP-11918. Listing an empty s3a root directory throws FileNotFound.
    Contributed by Lei (Eddy) Xu.

    HADOOP-12239. StorageException complaining " no lease ID" when updating
    FolderLastModifiedTime in WASB. Contributed by Duo Xu.

    HADOOP-12089. StorageException complaining " no lease ID" when updating
    FolderLastModifiedTime in WASB. Contributed by Duo Xu.

    BUG-41223. HDFS-8696. Make the lower and higher watermark in the DN Netty
    server configurable. (Xiaobing Zhou)

    BUG-43036. HDFS-8855. Webhdfs client leaks active NameNode connections.
    (Xiaobing Zhou)

    HADOOP-11098. [JDK8] Max Non Heap Memory default changed between JDK7 and
    8.

    HDFS-9220. Reading small file (< 512 bytes) that is open for append fails
    due to incorrect checksum. Contributed by Jing Zhao.

    HDFS-9063. Correctly handle snapshot path for getContentSummary.
    Contributed by Jing Zhao.

    HDFS-9205. Do not schedule corrupt blocks for replication.  (szetszwo)

    HADOOP-12484. Single File Rename Throws Incorrectly In Potential Race
    Condition Scenarios. Contributed by Gaurav Kanade.

    HDFS-9273. ACLs on root directory may be lost after NN restart. Contributed
    by Xiao Chen.

    HADOOP-11628. SPNEGO auth does not work with CNAMEs in JDK8.  (Daryn Sharp
    via stevel).

    HDFS-9019. Adding informative message to sticky bit permission denied
    exception. Contributed by Xiaoyu Yao.

    HDFS-9142. Separating Configuration object for namenode(s) in
    MiniDFSCluster. (Siqi Li via mingma)

    HDFS-9311. Support optional offload of NameNode HA service health checks to
    a separate RPC server. Contributed by Chris Nauroth.

    HDFS-9083. Replication violates block placement policy. Contributed by Rushabh Shah.

    HADOOP-12533. Introduce FileNotFoundException in WASB for read and seek
    API. Contributed by Dushyanth.

    HADOOP-11685. StorageException complaining "no lease ID" during HBase
    distributed log splitting. Contributed by Duo Xu.

    HADOOP-12508. delete fails with exception when lease is held on blob.
    Contributed by Gaurav Kanade.

    HADOOP-12542. TestDNS fails on Windows after HADOOP-12437. Contributed by
    Chris Nauroth.

    HDFS-9362. TestAuditLogger#testAuditLoggerWithCallContext assumes Unix line
    endings, fails on Windows. Contributed by Chris Nauroth.

    HADOOP-12440. TestRPC#testRPCServerShutdown did not produce the desired
    thread states before shutting down. (Xiao Chen via mingma)

    HADOOP-12540. TestAzureFileSystemInstrumentation#testClientErrorMetrics
    fails intermittently due to assumption that a lease error will be thrown.
    Contributed by Gaurav Kanade.

    HDFS-9008. Balancer#Parameters class could use a builder pattern. (Chris
    Trezzo via mingma)

    HDFS-9354. Fix TestBalancer#testBalancerWithZeroThreadsForMove on Windows.
    Contributed by Xiaoyu Yao.

    HDFS-9384. TestWebHdfsContentLength intermittently hangs and fails due to
    TCP conversation mismatch between client and server. Contributed by Chris
    Nauroth.

    HADOOP-12334. Change Mode Of Copy Operation of HBase WAL Archiving to bypass
    Azure Storage Throttling after retries. Contributed by Gaurav Kanade.

    HDFS-9413. getContentSummary() on standby should throw StandbyException.
    (Brahma Reddy Battula via mingma)

    HADOOP-11932. MetricsSinkAdapter may hang  when being stopped. Contributed
    by Brahma Reddy Battula.

    HDFS-9434. Recommission a datanode with 500k blocks may pause NN for 30
    seconds for printing info log messags. (Tsz Wo Sze)

    HDFS-9294. DFSClient deadlock when close file and failed to renew lease.
    Contributed by Brahma Reddy Battula

    BUG-47469. [2.3] Fix TestBalancer#testBalancerWithPinnedBlocks failure on
    2.3-maint. Contributed by Xiaoyu Yao.

    BUG-49321. HDFS-9364. Unnecessary DNS resolution attempts when
    creating NameNodeProxies. (Xiao Chen via zhz)

    YARN-4288. Fixed RMProxy to retry on IOException from local host.
    (Junping Du via jianhe)

    YARN-4345. yarn rmadmin -updateNodeResource doesn't work (Junping Du via
    jlowe)

    YARN-4347. Resource manager fails with Null pointer exception. (Jian He via wangda)

    YARN-2194. Fix bug causing CGroups functionality to fail on RHEL7.
    (Wei Yan via vvasudev)

    YARN-4384. updateNodeResource CLI should not accept negative values for resource.
    (Junping Du via wangda)

    YARN-3766. Fixed the apps table column error of generic history web UI.
    (Xuan Gong via zjshen)

    MAPREDUCE-6273. HistoryFileManager should check whether summaryFile exists to 
    avoid FileNotFoundException causing HistoryFileInfo into MOVE_FAILED state.
    (zhihai xu via devaraj)

    MAPREDUCE-6549. multibyte delimiters with LineRecordReader cause
    duplicate records (wilfreds via rkanter)

    MAPREDUCE-5485. Allow repeating job commit by extending OutputCommitter API
    (Junping Du via jianhe)

    YARN-4405/BUG-49337. Support node label store in non-appendable file system.
    (Wangda Tan via jianhe)

    YARN-3604. removeApplication in ZKRMStateStore should also disable watch.
    (Zhihai Xu via jianhe)

    YARN-3987. am container complete msg ack to NM once RM receive it. 
    (sandflee via jianhe)

    MAPREDUCE-6566. Add retry support to mapreduce CLI tool.
    (Varun Vasudev via xgong)

    YARN-4309. Add container launch related debug information to container logs
    when a container fails. (Varun Vasudev via wangda)

    HDFS-9358. TestNodeCount#testNodeCount timed out. (Masatake Iwasaki via waltersu4549)

    HADOOP-10406. TestIPC.testIpcWithReaderQueuing may fail. Contributed by Xiao Chen.

    HDFS-8729. Fix TestFileTruncate#testTruncateWithDataNodesRestartImmediately
    which occasionally failed. (Walter Su via jing9)

    HADOOP-12551. Introduce FileNotFoundException for WASB FileSystem API
    (Dushyanth via cnauroth)

    HADOOP-12608. Fix exception message in WASB when connecting with anonymous
    credential. (Dushyanth via xyao)

    HADOOP-12678. Handle empty rename pending metadata file during atomic rename
    in redo path. (Madhumita Chakraborty via cnauroth)

    BUG-49702(YARN-4392). ApplicationCreatedEvent event time resets after RM
    restart/failover. Contributed by Naganarasimha G R and Xuan Gong

    YARN-4565. (BUG-50408) Sometimes when sizeBasedWeight FairOrderingPolicy 
    is enabled, under stress appears that cluster is virtually in deadlock.
    (Wangda Tan via jianhe)

    HDFS-9672. o.a.h.hdfs.TestLeaseRecovery2 fails intermittently (Mingliang Liu
    via jitendra)

    BUG-51889. HDFS-9406. FSImage may get corrupted after deleting snapshot.
    (yzhang)

    MAPREDUCE-6618. YarnClientProtocolProvider leaking the YarnClient thread.(xgong)

    MAPREDUCE-6621. Memory Leak in JobClient#submitJobInternal(). (xgong)

    YARN-4625. Make ApplicationSubmissionContext and ApplicationSubmissionContextInfo
    more consistent. (xgong)

    BUG-52418(YARN-4680) Fix TimerTasks leak in ATS V1.5 Writer. (xgong)

    BUG-51879. HDFS-8113. Add check for null BlockCollection pointers
    in BlockInfoContiguous structures. (Chengbing Liu via Colin P. McCabe)

    BUG-51426. HDFS-9574. Reduce client failures during datanode restart.
    (kihwal)

    BUG-51442. HDFS-9655. NN should start JVM pause monitor before
    loading fsimage. (John Zhuge via lei)

    BUG-51436. HDFS-9557. Reduce object allocation in PB conversion.
    (Daryn Sharp via cnauroth).

    BUG-51439. HDFS-9445. Datanode may deadlock while handling a bad
    volume. (Walter Su via kihwal)

    BUG-51423. HDFS-8647. Abstract BlockManager's rack policy into
    BlockPlacementPolicy. (Brahma Reddy Battula via Zhe Zhang)

    BUG-51423. HDFS-9313. Possible NullPointerException in BlockManager if no
    excess replica can be chosen. (Ming Ma)

    HDFS-9600. Do not check replication if the block is under
    construction. (Phil Yang via vinayakumarb)

    BUG-52495. HDFS-9347. Invariant assumption in TestQuorumJournalManager.shutdown()
    is wrong (Wei-Chiu Chuang)

    BUG-52169. HDFS-9752. Permanent write failures may happen to slow writers
    during datanode rolling upgrades (Walter Su)

    BUG-52355. HDFS-9661. Deadlock in DN.FsDatasetImpl between
    moveBlockAcrossStorage moveBlockAcrossStorage and createRbw. (ade via
    vinayakumarb)

    BUG-52294. HDFS-9625. set replication for empty file  failed when
    set storage policy (DENG FEI via Vinayakumar B)

    HADOOP-12103. Small refactoring of DelegationTokenAuthenticationFilter to
    allow code sharing. (Yongjun Zhang)

    HDFS-8337. Accessing httpfs via webhdfs doesn't work from a jar with
    kerberos. (Yongjun Zhang)

    BUG-52769. Add more logging in WASB page blob read function.
    (Duo Xu via Arpit Agarwal)

    BUG-53803. HADOOP-12903. IPC Server should allow suppressing exception logging by type,
    not log 'server too busy' messages. (Arpit Agarwal)

    BUG-53803. HDFS-9941. Do not log StandbyException on NN, other
    minor logging fixes. (Arpit Agarwal)

    BUG-53573 HADOOP-12107 long running apps may have a huge number of StatisticsData instances under FileSystem

    BUG-53573. HADOOP-12829. StatisticsDataReferenceCleaner swallows interrupt exceptions (Gregory Chanan via cmccabe)

    HDFS-9851. NameNode throws NPE when setPermission is called on a path that
    does not exist. (Brahma Reddy Battula via aajisaka)

    HDFS-9290. DFSClient#callAppend() is not backward compatible for slightly
    older NameNodes. (Tony Wu via kihwal)

    BUG-53156. HDFS-8659. Block scanner INFO message is spamming logs.
    (Yongjun Zhang)

    BUG-53156. HDFS-9402. Switch DataNode.LOG to use slf4j. (Walter Su)

    BUG-53162. HADOOP-10365. BufferedOutputStream in FileUtil#unpackEntries()
    should be closed in finally block. (Kiran Kumar M R and Sanghyun Yun
    via ozawa)

    BUG-53174. HADOOP-12374. Description of hdfs expunge command is confusing.
    (Weiwei Yang)

    HDFS-8676. Delayed rolling upgrade finalization can cause heartbeat
    expiration. (Walter Su via kihwal)

    HDFS-9289. Make DataStreamer#block thread safe and verify genStamp in
    commitBlock. (Chang Li via kihwal)

    HADOOP-12589. Fix intermittent test failure of TestCopyPreserveFlag
    (iwasakims)

    HDFS-9431. DistributedFileSystem#concat fails if the target path is
    relative. (Kazuho Fujii via aajisaka)

    HADOOP-12213. Interrupted exception can occur when Client#stop is called. Contributed by Kuhu Shukla.

    HDFS-8891. HDFS concat should keep srcs order. (Yong Zhang via jing9)

    BUG-53173. HDFS-9383. TestByteArrayManager#testByteArrayManager fails.
    Contributed by Tsz Wo Nicholas Sze. (cherry picked from commit
    ef926b2e3824475581454c1e17a0d7c94529efde)

    HDFS-8772. Fix TestStandbyIsHot#testDatanodeRestarts which occasionally fails.
    (Walter Su via wang).

    BUG-53159. HDFS-8806. Inconsistent metrics: number of missing blocks with
    replication factor 1 not properly cleared (Zhe Zhang via Akira AJISAKA)

    BUG-51433. HDFS-9572. Prevent DataNode log spam if a client connects on the
    data transfer port but sends no data. Contributed by Chris Nauroth

    BUG-51433. HDFS-10199. Unit tests TestCopyFiles, TestDistCh, TestLogalyzer
    under org.apache.hadoop.tools are failing. Contributed by Tibor Kiss.

    BUG-53169. HDFS-9221. HdfsServerConstants#ReplicaState#getState should avoid
    calling values() since it creates a temporary array. (Staffan Friberg via
    yliu) (cherry picked from commit 0ff1216100d16cfa862854a89cd1be8969b0bd7e)

    BUG-51424. HDFS-9314. Improve BlockPlacementPolicyDefault's picking of
    excess replicas. Contributed by Xiao Chen.

    BUG-53811(YARN-4817). TimelineClient ATSv1.5 logging is very noisy. Contributed by Xuan Gong

    YARN-4814. ATS 1.5 timelineclient impl call flush after every event write.
    Contributed by Xuan Gong

    YARN-4815. ATS 1.5 timelineclinet impl try to create attempt directory for every event call.
    Contributed by Xuan Gong

    BUG-55052/YARN-4365: FileSystemNodeLabelStore should check for root dir
    existence on startup. (Kuhu Shukla)

    BUG-55051/YARN-3769: Consider user limit when calculating total pending
    resource for preemption policy in Capacity Scheduler. (Eric Payne)

    BUG-54854. YARN-4785. Inconsistent value type of the "type" field for LeafQueueInfo
    in response of RM REST API. (Varun Vasudev via junping_du)

    BUG-55061. YARN-4709. NMWebServices produces incorrect JSON for containers.
    Contributed by Varun Saxena.

    BUG-53176. HADOOP-12348. MetricsSystemImpl creates MetricsSourceAdapter with
    wrong time unit parameter. (zxu via rkanter)

    BUG-52156. HDFS-9724. Degraded performance in WebHDFS listing as it does not reuse
    ObjectMapper. Contributed by Akira Ajisaka.

    BUG-53157. HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula.

    BUG-54932. HDFS-6101. TestReplaceDatanodeOnFailure fails occasionally. Contributed by
    Wei-Chiu Chuang.

    BUG-52620. HDFS-9768. Reuse ObjectMapper instance in HDFS to improve the performance.
    Contributed by Lin Yiqun.

    BUG-55054. YARN-4439. Clarify NMContainerStatus#toString method. (Jian He via xgong)

    BUG-53579. HADOOP-12851 S3AFileSystem Uptake of ProviderUtils.excludeIncompatibleCredentialProviders

    BUG-53166. HADOOP-12464 Interrupted client may try to fail-over and retry Interrupted client may try to fail-over and retry

    BUG-53177. HADOOP-12482 Race condition in JMX cache update

    BUG-53154. HADOOP-12100 ImmutableFsPermission should not override applyUmask since that method doesn't modify the FsPermission

    BUG-52584.  HADOOP-12795 KMS does not log detailed stack trace for unexpected errors.

    BUG-52934.  HDFS-9854 Log cipher suite negotiation more verbosely

    BUG-52244.  HADOOP-12426 Add Entry point for Kerberos health check

    BUG-52290.  HADOOP-12752 Improve diagnostics/use of envvar/sysprop credential propagation

    HADOOP-12958. PhantomReference for filesystem statistics can trigger OOM. 

    HDFS-9478. Reason for failing ipc.FairCallQueue contruction should
    be thrown. (Ajith S via Arpit Agarwal)

    BUG-55060. ARN-3102. Decommisioned Nodes not listed in Web UI. (Kuhu Shukla via jlowe)

    YARN-4723. NodesListManager$UnknownNodeId ClassCastException. (Kuhu Shukla via jlowe)

    BUG-55058. YARN-4598. Invalid event: RESOURCE_FAILED at CONTAINER_CLEANEDUP_AFTER_KILL. (tangshangwen via jlowe)

    BUG-55059. YARN-4428. Redirect RM page to AHS page when AHS turned on and RM page is not available. (Chang Li via jlowe)

    BUG-55057. YARN-4610: Reservations continue looking for one app causes other apps to starve. (Jason Lowe)

    BUG-55056. YARN-4414. Nodemanager connection errors are retried at multiple levels. (Chang Li via jlowe)

    BUG-55055. YARN-3695. ServerProxy (NMProxy, etc.) shouldn't retry forever for non network exception. (Raju Bairishetti via jlowe)

    BUG-55053. YARN-4422. Generic AHS sometimes doesn't show started, node, or logs on App page. (Eric Payne via jeagles)

    BUG-54771. YARN-4546. YARN-4546. ResourceManager crash due to scheduling opportunity overflow. (Jason Lowe via junping_du)

    BUG-54770. YARN-2046. Out of band heartbeats are sent only on container kill and possibly too early. (Ming Ma via jlowe) 

    BUG-54769. MAPREDUCE-6492. AsyncDispatcher exit with NPE on TaskAttemptImpl#sendJHStartEventForAssignedFailTask. (Bibin A Chundatt via jlowe)

    BUG-54768. MAPREDUCE-6577. MR AM unable to load native library without MR_AM_ADMIN_USER_ENV set. (sjlee)

    BUG-54764. MAPREDUCE-6436. JobHistory cache issue. (Kai Sasaki via zxu)

    BUG-53494. MAPREDUCE-6635. Unsafe long to int conversion in UncompressedSplitLineReader and IndexOutOfBoundsException. (junping_du)

    BUG-55443. YARN-4696. TimelineClient to add flush operation for deterministic writes (including testing)
    and Changes to EntityGroupFSTimelineStore for testability. (stevel)

    BUG-53291. YARN-4737. Add CSRF filter support in YARN (Varun Vasudev via Jon Maron)

    BUG-55473. HDFS-9130. Use GenericTestUtils#setLogLevel to the logging level.
    Contributed by Mingliang Liu.

    BUG-55333. MAPREDUCE-6460. TestRMContainerAllocator.testAttemptNotFoundCausesRMCommunicatorException
    fails. Contributed by Zhihai Xu. (cherry picked from commit e3ace31e2b7e3a8dc6cf3dc044d5ef2a9aa12e29)
    
    BUG-55580. HDFS-9072. Fix random failures in TestJMXGet. (J. Andreina
    via kihwal)

    BUG-55580. HDFS-9743. Fix TestLazyPersistFiles#testFallbackToDiskFull in
    branch-2.7. (kihwal)

    BUG-55475. HADOOP-11212. NetUtils.wrapException to handle SocketException
    explicitly. (Contributed by Steve Loughran)

    BUG-55475. YARN-4916. TestNMProxy.tesNMProxyRPCRetry fails. Contributed by Tibor Kiss.

    BUG-55580. HDFS-9740. Use a reasonable limit in DFSTestUtil.waitForMetric()
    (Contributed by Chang Li)

    BUG-55507. YARN-4769. Add support for CSRF header in the dump capacity
    scheduler logs and kill app buttons in RM web UI.

    BUG-55338. Ignore TestJavaSerialization tests until release.

    BUG-55336. MAPREDUCE-6670. TestJobListCache#testEviction sometimes fails on
    Windows with timeout. Contributed by Gergely Novák. (cherry picked from
    commit de96d7c88a42cd54bd88ce2de63122998e967efa)

    BUG-55340, BUG-55343. YARN-4928. Some yarn.server.timeline.* tests fail on
    Windows attempting to use a test root path containing a colon. Contributed
    by Gergely Novák.

    BUG-55703. YARN-4633. Fix random test failure in
    TestRMRestart#testRMRestartAfterPreemption. (Bibin A Chundatt via
    rohithsharmaks)

    BUG-55760. YARN-2871. TestRMRestart#testRMRestartGetApplicationList 
    sometimes fails in trunk. Contributed by zhihai xu.

    HADOOP-12706. TestLocalFsFCStatistics#testStatisticsThreadLocalDataCleanUp
    times out occasionally (Sangjin Lee and Colin Patrick McCabe via jlowe)

    HDFS-10281. TestPendingCorruptDnMessages fails intermittently. Contributed by
    Mingliang Liu.

    BUG-55569. HDFS-10270. TestJMXGet:testNameNode() fails. Contributed by
    Gergely Novák

    HDFS-10283. o.a.h.hdfs.server.namenode.TestFSImageWithSnapshot#testSaveLoadImageWithAppending
    fails intermittently. Contributed by Mingliang Liu.

    YARN-4965. Distributed shell AM failed due to ClientHandlerException thrown
    by jersey. Contributed by Junping Du.

    HADOOP-13026. Should not wrap IOExceptions into a AuthenticationException in 
    KerberosAuthenticator. Contributed by Xuan Gong.

    YARN-4955. Add retry for SocketTimeoutException in TimelineClient. Contributed by Xuan Gong.

    BUG-56293. Ignore intermittent unit test failure for o.a.h.y.s.r.s.fair.TestSchedulingPolicy.
    testIsApplicableTo.

    MAPREDUCE-6680. JHS UserLogDir scan algorithm sometime could skip directory
    with update in CloudFS (Azure FileSystem, S3, etc). (Junping Du via jianhe)

    BUG-56309. Intermittent failure for TestDiskFailures.testLocalDirsFailures.

    BUG-56289. YARN-4968. Fix two scheduler related UTs in YARN. Contributed by Wangda Tan.

    BUG-55790. Disabled intermittent unit tests.

    BUG-55975. YARN-4954. TestYarnClient.testReservationAPIs fails on machines with less than 4 GB
    available memory. Gergely Novák via junping_du.

    BUG-56482. YARN-4155. TestLogAggregationService.testLogAggregationServiceWithInterval failing.
    (Bibin A Chundatt via stevel)

    BUG-56289. [YARN-4968] Fix two scheduler related UTs in YARN

    BUG-56474. HADOOP-12609. Fix intermittent failure of TestDecayRpcScheduler.
    (Contributed by Masatake Iwasaki)

    BUG-56476. HADOOP-12699. TestKMS#testKMSProvider intermittently fails during
    'test rollover draining'. Contributed by Xiao Chen.

    BUG-56527. Disable TestDataNodeLifeline, TestDFSUpgradeWithHA.testRollbackWithJournalNodes,
    TestIPC.testSerial and testIpcWithReaderQueuing due to intermittent failures.

    BUG-56920. YARN-3602. TestResourceLocalizationService.testPublicResourceInitializesLocalDir
    fails Intermittently due to IOException from cleanup. (zhihai xu via xgong)

    BUG-56920. YARN-4717. TestResourceLocalizationService.testPublicResourceInitializesLocalDir
    fails Intermittently due to IllegalArgumentException from cleanup (templedf via rkanter)

    BUG-56776. Hotfix for AT&T. Scheduler keeps skipping scheduling because
    large amount of resources asked which causes pending resource overflows.

    BUG-56776. MAPREDUCE-6514. Fixed MapReduce ApplicationMaster to properly
    updated resources ask after ramping down of all reducers avoiding job hangs.
    Contributed by Varun Saxena and Wangda Tan. Updated the 2.7 branch patch to
    fix a minor issue in TestRMContainerAllocator.java

    BUG-56776. MAPREDUCE-6689. MapReduce job can infinitely increase number of
    reducer resource requests. Contributed by Wangda Tan (cherry picked from
    commit c9bb96fa81fc925e33ccc0b02c98cc2d929df120)

    BUG-57306. HDFS-9917. IBR accumulate more objects when SNN was down for
    sometime. (Contributed by Brahma Reddy Battula)

    BUG-56577. HADOOP-12716. KerberosAuthenticator#doSpnegoSequence use
    incorrect class to determine isKeyTab in JDK8. (Xiaoyu Yao via cnauroth)

    BUG-56577. HADOOP-12559. KMS connection failures should trigger TGT renewal.
    Contributed by Zhe Zhang.

    BUG-56772. HADOOP-12423. Handle failure of registering shutdownhook by
    ShutdownHookManager in static block (Contributed by Abhishek Agarwal)

    BUG-56772. HADOOP-12950. ShutdownHookManager should have a timeout for each
    of the Registered shutdown hook. Contributed by Xiaoyu Yao.

    BUG-56772. HADOOP-12993. Change ShutdownHookManger complete shutdown log
    from INFO to DEBUG. Contributed by Xiaoyu Yao.

    BUG-57056. HADOOP-11901. BytesWritable fails to support 2G chunks due to
    integer overflow. Contributed by Reynold Xin.

    BUG-57518. HDFS-10335 Mover$Processor#chooseTarget() always chooses the
    first matching target storage group.  Contributed by  Mingliang Liu

    BUG-56423. HDFS-10312. Large block reports may fail to decode at NameNode due to 64 MB
    protobuf maximum length restriction. Contributed by Chris Nauroth.

    BUG-48217/YARN-5112. Excessive log warnings for directory permission
    issue on NM recovery. (jianhe via Junping Du)

    BUG-57625. HADOOP-13103. Group resolution from LDAP may fail on javax.naming.ServiceUnavailableException

    BUG-55808. YARN-3021. YARN's delegation-token handling disallows certain
    trust setups to operate properly over DistCp. Contributed by Yongjun Zhang
    (cherry picked from commit bb6dde68f19be1885a9e7f7949316a03825b6f3e)

    BUG-55808. YARN-5048. DelegationTokenRenewer#skipTokenRenewal may throw
    NPE (Jian He via Yongjun Zhang)

    BUG-55291. HDFS-10223. peerFromSocketAndKey performs SASL exchange before setting connection timeouts

    BUG-57513. HDFS-9198. Coalesce IBR processing in the NN. Contributed by
    Daryn Sharp.

    BUG-57513. HDFS-9958. BlockManager#createLocatedBlocks can throw NPE for
    corruptBlocks on failed storages. Contributed by Kuhu Shukla.

    BUG-58359. HDFS-10438. When NameNode HA is configured to use the lifeline
    RPC server, it should log the address of that server. (cnauroth)

    BUG-58358. HDFS-10424. DatanodeLifelineProtocol not able to use under
    security cluster. Contributed by Chris Nauroth.

    BUG-55185. YARN-5076. YARN web interfaces lack XFS (Cross-Frame Script) protection.
    (Jon Maron via junping_du)

    BUG-58437. HADOOP-13008. Add XFS Filter for UIs to Hadoop Common. Contributed by Larry McCay.

    BUG-57078. HDFS-10347. Namenode report bad block method doesn't log the bad
    block or datanode. Contributed by Rushabh Shah.

    BUG-55474. HDFS-10178. Permanent write failures can happen if pipeline
    recoveries occur for the first packet. Contributed by Kihwal Lee.

    BUG-56869. HDFS-9902. Support different values of dfs.datanode.du.reserved
    per storage type. (Contributed by Brahma Reddy Battula)

    BUG-18218. YARN-3846. RM Web UI queue filter is not working for sub queue.
    Contributed by Mohammad Shahid Khan

    BUG-38471. HDFS-8887. Expose storage type and storage ID in BlockLocation.

    BUG-38471. HDFS-8512. WebHDFS : GETFILESTATUS should return LocatedBlock with storage
    type info. (xyao)

    BUG-51829. YARN-4820. ResourceManager web redirects in HA mode drops query parameters.
    Contributed by Varun Vasudev.

    BUG-51145. YARN-4596. SystemMetricPublisher should not swallow error messages from
    TimelineClient#putEntities. Contributed by Li Lu

    BUG-52882. HDFS-7163. WebHdfsFileSystem should retry reads according to the configured retry policy.

    BUG-52302. HDFS-7916. 'reportBadBlocks' from datanodes to standby Node BPServiceActor goes for infinite loop.
    Contributed by Rushabh Shah.

    BUG-53390. HDFS-6951. Correctly persist raw namespace xattrs to edit log and fsimage. Contributed by Charles Lamb.

    BUG-53460. HADOOP-13098. Dynamic LogLevel setting page should accept case-insensitive log level string
    (Junping Du)

    BUG-55949. HDFS-9476. TestDFSUpgradeFromImage#testUpgradeFromRel1BBWImage occasionally fail
    (Masatake Iwasaki)

    BUG-54136. HADOOP-11252. RPC client does not time out by default.
    Contributed by Wilfred Spiegelenburg and Masatake Iwasaki.

    BUG-54136. HADOOP-12672. RPC timeout should not override IPC ping interval
    (iwasakims)

    HADOOP-11785. Reduce the number of listStatus operation in distcp buildListing (Zoran Dimitrijevic via Colin P. McCabe)

    HADOOP-11827. Speed-up distcp buildListing() using threadpool (Zoran Dimitrijevic via raviprak)

    HDFS-9612. DistCp worker threads are not terminated after jobs are done. (Wei-Chiu Chuang via Yongjun Zhang)

    HADOOP-11876. Refactor code to make it more readable, minor maybePrintStats bug (Zoran Dimitrijevic via raviprak)

    HDFS-8828. Utilize Snapshot diff report to build diff copy list in distcp. (Yufei Gu via Yongjun Zhang)

    HADOOP-1540. Support file exclusion list in distcp. Contributed by Rich Haase.

    HDFS-9764. DistCp doesn't print value for several arguments including -numListstatusThreads. (Wei-Chiu Chuang via Yongjun Zhang)

    HDFS-10397. Distcp should ignore -delete option if -diff option is provided instead of exiting. Contributed by Mingliang Liu.

    BUG-58154. HADOOP-1540 breaks backward compatibilty

    HDFS-10216. Distcp -diff throws exception when handling relative path. Contributed by Takashi Ohnishi.

    HDFS-10313. Distcp need to enforce the order of snapshot names passed to -diff. (Lin Yiqun via Yongjun Zhang)

    BUG-55339. MAPREDUCE-6672. TestTeraSort fails on Windows. Contributed by
    Tibor Kiss.

    HDFS-9700. DFSClient and DFSOutputStream should set TCP_NODELAY
    on sockets for DataTransferProtocol. (Gary Helmling)

    BUG-9259. Make SO_SNDBUF size configurable at DFSClient side for hdfs write
    scenario. (Mingliang Liu)

    BUG-59397. HDFS-10485. Fix findbugs warning in FSEditLog.java (Akira AJISAKA)

    BUG-57761. HDFS-10396. Using -diff option with DistCp may get "Comparison
    method violates its general contract" exception. Contributed by Yongjun Zhang.

    BUG-56491. Enable intermittent unit tests for further investigation

    BUG-60447. HADOOP-13255. KMSClientProvider should check and renew tgt when
    doing delegation token operations. Contributed by Xiao Chen.

    MAPREDUCE-6543. Migrate MR Client test cases part 2

    BUG-60724. HDFS-10271. Extra bytes are getting released from reservedSpace
    for append (Contributed by Brahma Reddy Battula)

    BUG-60724. HDFS-9530. ReservedSpace is not cleared for abandoned Blocks
    (Contributed by Brahma Reddy Battula)

    HADOOP-9477. Add posixGroups support for LDAP groups mapping service.
    (Dapeng Sun via Yongjun Zhang)

    HADOOP-12568. Update core-default.xml to describe posixGroups support.
    Contributed by Wei-Chiu Chuang.
